<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link href='https://fonts.googleapis.com/css?family=Work Sans' rel='stylesheet'> -->
    <link href='https://fonts.googleapis.com/css?family=Open Sans' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <title>Document</title>

    <style>
        .btnW {
            background-color: white;
            border: 1px solid red;
            color: red;
            height: 5vh;
            width: 50vw;
            text-align: center;
            text-decoration: none;
            font-size: 0.8em;
            border-radius: 8px;
            align-items: center;
            justify-content: center;
        }

    </style>
</head>

<body>
    <div id="header">
        <div id="back" style=" position: absolute; left:10vw; top:4.7vh;">
            <a href="./app3.html"> <img src="../data/backArr.svg" alt=""></a>
        </div>
        <p>New Appointment</p>
    </div>

    <h5 style="text-align: center; margin-top: 5%; margin-bottom: 5%;"><b>Apointment Details</b></h5>

    <div class="card"
        style="border:none; color: white; margin: 0% 7% 5% 7%; border-style: groove; border-radius: 1em; border: none; background-color: #FF7C7C; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05), 0 3px 6px rgba(0, 0, 0, 0.09);">
        <div style="margin-top: 10%; margin-left: 5%; font-size: 1em; font-weight: bold;">Reservation Status</div>
        <div>
            <div style="margin-left: 5%; float: left;">
                <div style="display: flex; flex-direction: row;">
                    <div id="position" style="margin-right: 10%; font-size: 2.5em;"></div>
                    <div style="margin-top: 10%; font-size: 0.8em;">position in line</div>
                </div>
            </div>
            <div style="margin-right: 5%; float: right;">
                <div style="display: flex; flex-direction: row;">
                    <div id="waiting_time" style="margin-right: 10%; font-size: 2.5em;"></div>
                    <div style="margin-top: 10%; font-size: 0.8em;">minute waiting</div>
                </div>
            </div>
        </div>
        <br>
        <img src="../data/app/app_10_43.svg" style="margin-left: 5%; width: 40vw;">
        <br>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
        let rand = Math.floor(Math.random() * 10);
        let position = jQuery("#position");
        let waiting_time = jQuery("#waiting_time");
        position.empty();
        waiting_time.empty();
        position.append(rand);
        let doctor_num = Math.floor(Math.random() * 5) + 1; // 10 min per doc

        if (rand === 0) {
            waiting_time.append(0);
        }
        else {
            if (doctor_num < rand) {
                waiting_time.append(Math.ceil(rand / doctor_num) * 10);
            }
            else {
                let extra = doctor_num - rand;
                let collab_time = (Math.floor(Math.random() * 8) + 6);
                if (Math.floor(doctor_num / rand) >= 2) {
                    waiting_time.append(rand * collab_time)
                }
                else {
                    if (rand - extra > 0) {
                        waiting_time.append(extra * collab_time + (rand - extra) * 10);
                    }
                    else {
                        waiting_time.append(extra * collab_time);
                    }
                }
            }
        }
    </script>

    <div class="card" style="margin: 0% 7% 5% 7%; border-style: groove;
    border-radius: 1em;
    border: none;
    background-color: #f9f9f9;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05), 0 3px 6px rgba(0, 0, 0, 0.09);">
        <div style="margin: 5% 5% 10% 5%;">
            <b>Directions</b>
            <br>
            <div style="margin-top: 4%;">
                <img src="../data/app/app10_1.svg">
                6230 Claremont Ave, Oakland, CA
                <br>
            </div>
            <div>
                <img src="../data/app/app10_2.svg" style="margin-top: 5%;">
                <br>
                <img src="../data/app/app_10_31.svg" style="margin-left: 1.5%; margin-top: 10%; margin-right: 8%;">
                <img src="../data/app/app_10_32.svg" style="margin-top: 10%; margin-right: 8%;">
                <img src="../data/app/app_10_33.svg" style="margin-top: 10%; margin-right: 8%;">
                <img src="../data/app/app_10_34.svg" style="margin-top: 10%; margin-right: 8%;">
            </div>
        </div>

    </div>

    <div style="text-align: center;">
        <button class="btnW"><a href="" style="color: red; text-decoration: none;">Modify
                Appointment</a></button>
    </div>
    <div style="text-align: center;height:5vh;">

    </div>

    <!-- TBF: increase nav height -->
    <div id="navBar">
        <nav class="nav navbar-light bg-light fixed-bottom nav-fill w-100 justify-content-center">
            <a class="nav-link active" aria-current="page" href="#">
                <img src="../data/a_home.svg" alt="">
            </a>
            <a class="nav-link" href="message1.html">
                <img src="../data/b_msg.svg" alt="">
            </a>
            <a class="nav-link" href="comm1.1.html">
                <img src="../data/b_comm.svg" alt="">
            </a>
            <!-- <a class="nav-link">
                <img src="../data/b_fav.svg" alt="">
            </a> -->
            <a class="nav-link" href="profile.html">
                <img src="../data/b_profile.svg" alt="">
            </a>
        </nav>
    </div>
</body>

</html>
